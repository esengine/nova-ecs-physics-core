<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@esengine/nova-ecs-physics-core - v1.0.3</title><meta name="description" content="Documentation for @esengine/nova-ecs-physics-core"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@esengine/nova-ecs-physics-core - v1.0.3</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@esengine/nova-ecs-physics-core - v1.0.3</h1></div><div class="tsd-panel tsd-typography"><h1 id="esenginenova-ecs-physics-core" class="tsd-anchor-link">@esengine/nova-ecs-physics-core<a href="#esenginenova-ecs-physics-core" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Core physics engine abstraction layer for NovaECS - provides a pluggable, type-safe physics engine architecture with comprehensive event handling and debugging capabilities.</p>
<p>NovaECS的核心物理引擎抽象层 - 提供可插拔、类型安全的物理引擎架构，具备完善的事件处理和调试功能。</p>
<p><a href="https://badge.fury.io/js/%40esengine%2Fnova-ecs-physics-core"><img src="https://badge.fury.io/js/%40esengine%2Fnova-ecs-physics-core.svg" alt="npm version"></a>
<a href="https://github.com/esengine/nova-ecs-physics-core/actions"><img src="https://github.com/esengine/nova-ecs-physics-core/workflows/CI/badge.svg" alt="CI"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
<a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/badge/TypeScript-5.5.4-blue.svg" alt="TypeScript"></a></p>
<h2 id="✨-features--特性" class="tsd-anchor-link">✨ Features | 特性<a href="#✨-features--特性" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="🏗️-core-architecture--核心架构" class="tsd-anchor-link">🏗️ Core Architecture | 核心架构<a href="#🏗️-core-architecture--核心架构" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>🔌 Pluggable Design</strong>: Engine-agnostic abstraction layer supporting multiple physics engines | <strong>可插拔设计</strong>：支持多种物理引擎的引擎无关抽象层</li>
<li><strong>🎯 Type Safety</strong>: 100% TypeScript with full type safety and IntelliSense support | <strong>类型安全</strong>：100% TypeScript，完整的类型安全和智能提示</li>
<li><strong>⚡ High Performance</strong>: Optimized ECS integration with efficient memory management | <strong>高性能</strong>：优化的ECS集成，高效的内存管理</li>
</ul>
<h3 id="🧮-deterministic-physics--确定性物理" class="tsd-anchor-link">🧮 Deterministic Physics | 确定性物理<a href="#🧮-deterministic-physics--确定性物理" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>🎲 Fixed-Point Math</strong>: Seamless integration with @esengine/nova-ecs-math for cross-platform consistency | <strong>定点数学</strong>：与@esengine/nova-ecs-math无缝集成，确保跨平台一致性</li>
<li><strong>🔄 Reproducible</strong>: Deterministic physics simulation for multiplayer and replay systems | <strong>可重现</strong>：确定性物理模拟，支持多人游戏和回放系统</li>
</ul>
<h3 id="📡-advanced-event-system--高级事件系统" class="tsd-anchor-link">📡 Advanced Event System | 高级事件系统<a href="#📡-advanced-event-system--高级事件系统" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>🎪 Rich Events</strong>: 13 types of physics events (collision, sensor, joint, body lifecycle) | <strong>丰富事件</strong>：13种物理事件类型（碰撞、传感器、关节、物体生命周期）</li>
<li><strong>⚡ Real-time</strong>: Event-driven architecture with priority-based processing | <strong>实时</strong>：事件驱动架构，支持优先级处理</li>
<li><strong>🔗 Decoupled</strong>: Loose coupling between physics and game logic | <strong>解耦</strong>：物理和游戏逻辑之间的松耦合</li>
</ul>
<h3 id="🐛-debug--development--调试和开发" class="tsd-anchor-link">🐛 Debug &amp; Development | 调试和开发<a href="#🐛-debug--development--调试和开发" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>🎨 Visual Debug</strong>: Comprehensive debug rendering system with customizable styles | <strong>可视化调试</strong>：全面的调试渲染系统，可自定义样式</li>
<li><strong>📊 Performance Monitor</strong>: Built-in profiling and statistics tracking | <strong>性能监控</strong>：内置性能分析和统计跟踪</li>
<li><strong>🔧 Developer Tools</strong>: Rich debugging interfaces and utilities | <strong>开发者工具</strong>：丰富的调试接口和工具</li>
</ul>
<h3 id="🧩-extensibility--可扩展性" class="tsd-anchor-link">🧩 Extensibility | 可扩展性<a href="#🧩-extensibility--可扩展性" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>📦 Modular</strong>: Use only the components you need | <strong>模块化</strong>：只使用您需要的组件</li>
<li><strong>🔧 Extensible</strong>: Easy to extend with custom physics engines and features | <strong>可扩展</strong>：易于扩展自定义物理引擎和功能</li>
<li><strong>🧪 Test Friendly</strong>: Mockable interfaces for easy testing | <strong>测试友好</strong>：可模拟的接口，便于测试</li>
</ul>
<h2 id="📦-installation--安装" class="tsd-anchor-link">📦 Installation | 安装<a href="#📦-installation--安装" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@esengine/nova-ecs-physics-core</span>
</code><button type="button">Copy</button></pre>

<h2 id="🚀-quick-start--快速开始" class="tsd-anchor-link">🚀 Quick Start | 快速开始<a href="#🚀-quick-start--快速开始" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">World</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@esengine/nova-ecs&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Fixed</span><span class="hl-1">, </span><span class="hl-4">FixedVector2</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@esengine/nova-ecs-math&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">// Components</span><br/><span class="hl-1">  </span><span class="hl-4">RigidBodyComponent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ColliderComponent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PhysicsTransformComponent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CollisionEventComponent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Types</span><br/><span class="hl-1">  </span><span class="hl-4">RigidBodyType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ColliderType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Events</span><br/><span class="hl-1">  </span><span class="hl-4">CollisionBeginEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CollisionEndEvent</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@esengine/nova-ecs-physics-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// This example assumes you have a physics plugin installed</span><br/><span class="hl-5">// 此示例假设您已安装物理插件</span><br/><span class="hl-5">// import { Box2DPhysicsPlugin } from &#39;@esengine/nova-ecs-physics-box2d&#39;;</span><br/><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">setupPhysics</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-5">// Create world and install physics plugin</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">world</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">World</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">/* const physicsPlugin = new Box2DPhysicsPlugin({</span><br/><span class="hl-5">    worldConfig: {</span><br/><span class="hl-5">      gravity: new FixedVector2(0, -9.81),</span><br/><span class="hl-5">      allowSleep: true</span><br/><span class="hl-5">    }</span><br/><span class="hl-5">  });</span><br/><span class="hl-5">  </span><br/><span class="hl-5">  await world.plugins.install(physicsPlugin); */</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Create a dynamic physics entity</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">entity</span><span class="hl-1"> = </span><span class="hl-4">world</span><span class="hl-1">.</span><span class="hl-0">createEntity</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Add transform component</span><br/><span class="hl-1">  </span><span class="hl-4">entity</span><span class="hl-1">.</span><span class="hl-0">addComponent</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">PhysicsTransformComponent</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">FixedVector2</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">10</span><span class="hl-1">), </span><span class="hl-5">// position</span><br/><span class="hl-1">    </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">),            </span><span class="hl-5">// rotation</span><br/><span class="hl-1">    </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">FixedVector2</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">)   </span><span class="hl-5">// scale</span><br/><span class="hl-1">  ));</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Add rigid body component</span><br/><span class="hl-1">  </span><span class="hl-4">entity</span><span class="hl-1">.</span><span class="hl-0">addComponent</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">RigidBodyComponent</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">RigidBodyType</span><span class="hl-1">.</span><span class="hl-4">Dynamic</span><span class="hl-1">,   </span><span class="hl-5">// type</span><br/><span class="hl-1">    </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">0.1</span><span class="hl-1">),          </span><span class="hl-5">// linear damping</span><br/><span class="hl-1">    </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">0.1</span><span class="hl-1">),          </span><span class="hl-5">// angular damping</span><br/><span class="hl-1">    </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">1.0</span><span class="hl-1">),          </span><span class="hl-5">// gravity scale</span><br/><span class="hl-1">    </span><span class="hl-6">true</span><span class="hl-1">,                    </span><span class="hl-5">// allow sleep</span><br/><span class="hl-1">    </span><span class="hl-6">false</span><span class="hl-1">,                   </span><span class="hl-5">// fixed rotation</span><br/><span class="hl-1">    </span><span class="hl-6">false</span><span class="hl-1">                    </span><span class="hl-5">// bullet (for fast moving objects)</span><br/><span class="hl-1">  ));</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Add box collider</span><br/><span class="hl-1">  </span><span class="hl-4">entity</span><span class="hl-1">.</span><span class="hl-0">addComponent</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ColliderComponent</span><span class="hl-1">(</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">ColliderType</span><span class="hl-1">.</span><span class="hl-4">Box</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">halfWidth:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">halfHeight:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">)</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">friction:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">0.3</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">restitution:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">0.1</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-4">density:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">1.0</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ));</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Add collision event handling</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">collisionComp</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">CollisionEventComponent</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-4">collisionComp</span><span class="hl-1">.</span><span class="hl-0">addCollisionBeginCallback</span><span class="hl-1">((</span><span class="hl-4">other</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Collision started with entity </span><span class="hl-6">${</span><span class="hl-9">(</span><span class="hl-4">other</span><span class="hl-9"> </span><span class="hl-3">as</span><span class="hl-9"> </span><span class="hl-10">any</span><span class="hl-9">).</span><span class="hl-4">id</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-4">entity</span><span class="hl-1">.</span><span class="hl-0">addComponent</span><span class="hl-1">(</span><span class="hl-4">collisionComp</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Subscribe to global physics events</span><br/><span class="hl-1">  </span><span class="hl-4">world</span><span class="hl-1">.</span><span class="hl-4">eventBus</span><span class="hl-1">.</span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-4">CollisionBeginEvent</span><span class="hl-1">, (</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Global collision detected!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">impulse</span><span class="hl-1"> = </span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-0">getTotalImpulse</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Collision impulse: </span><span class="hl-6">${</span><span class="hl-4">impulse</span><span class="hl-9">.</span><span class="hl-0">toNumber</span><span class="hl-9">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Game loop</span><br/><span class="hl-1">  </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">gameLoop</span><span class="hl-1">(</span><span class="hl-4">deltaTime</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">world</span><span class="hl-1">.</span><span class="hl-0">update</span><span class="hl-1">(</span><span class="hl-4">deltaTime</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">setInterval</span><span class="hl-1">(() </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-0">gameLoop</span><span class="hl-1">(</span><span class="hl-8">16</span><span class="hl-1">), </span><span class="hl-8">16</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">setupPhysics</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="🏗️-architecture--架构" class="tsd-anchor-link">🏗️ Architecture | 架构<a href="#🏗️-architecture--架构" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="core-interfaces--核心接口" class="tsd-anchor-link">Core Interfaces | 核心接口<a href="#core-interfaces--核心接口" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">// Main physics engine interface</span><br/><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-10">IPhysicsEngine</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-4">version</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">createWorld</span><span class="hl-1">(</span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-10">PhysicsWorldConfig</span><span class="hl-1">): </span><span class="hl-10">IPhysicsWorld</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">createRigidBody</span><span class="hl-1">(</span><span class="hl-4">world</span><span class="hl-1">: </span><span class="hl-10">IPhysicsWorld</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-10">RigidBodyConfig</span><span class="hl-1">): </span><span class="hl-10">IRigidBody</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">createCollider</span><span class="hl-1">(</span><span class="hl-4">body</span><span class="hl-1">: </span><span class="hl-10">IRigidBody</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-10">ColliderConfig</span><span class="hl-1">): </span><span class="hl-10">ICollider</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">createJoint</span><span class="hl-1">(</span><span class="hl-4">world</span><span class="hl-1">: </span><span class="hl-10">IPhysicsWorld</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-10">BaseJointConfig</span><span class="hl-1">): </span><span class="hl-10">IJoint</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">initialize</span><span class="hl-1">(): </span><span class="hl-10">Promise</span><span class="hl-1">&lt;</span><span class="hl-10">void</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">destroy</span><span class="hl-1">(): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Physics world interface</span><br/><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-10">IPhysicsWorld</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">step</span><span class="hl-1">(</span><span class="hl-4">deltaTime</span><span class="hl-1">: </span><span class="hl-10">Fixed</span><span class="hl-1">): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">setGravity</span><span class="hl-1">(</span><span class="hl-4">gravity</span><span class="hl-1">: </span><span class="hl-10">FixedVector2</span><span class="hl-1">): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">getGravity</span><span class="hl-1">(): </span><span class="hl-10">FixedVector2</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">raycast</span><span class="hl-1">(</span><span class="hl-4">input</span><span class="hl-1">: </span><span class="hl-10">RaycastInput</span><span class="hl-1">): </span><span class="hl-10">RaycastResult</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-0">queryAABB</span><span class="hl-1">(</span><span class="hl-4">lowerBound</span><span class="hl-1">: </span><span class="hl-10">FixedVector2</span><span class="hl-1">, </span><span class="hl-4">upperBound</span><span class="hl-1">: </span><span class="hl-10">FixedVector2</span><span class="hl-1">): </span><span class="hl-10">unknown</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-0">onCollision</span><span class="hl-1">(</span><span class="hl-0">callback</span><span class="hl-1">: (</span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-10">CollisionEventData</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> </span><span class="hl-10">void</span><span class="hl-1">): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">destroy</span><span class="hl-1">(): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="components--组件" class="tsd-anchor-link">Components | 组件<a href="#components--组件" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RigidBodyComponent</code></td>
<td>Physics rigid body properties</td>
<td>物理刚体属性</td>
</tr>
<tr>
<td><code>ColliderComponent</code></td>
<td>Collision shapes and materials</td>
<td>碰撞形状和材质</td>
</tr>
<tr>
<td><code>PhysicsTransformComponent</code></td>
<td>Transform synchronized with physics</td>
<td>与物理同步的变换</td>
</tr>
<tr>
<td><code>JointComponent</code></td>
<td>Constraints between bodies</td>
<td>物体之间的约束</td>
</tr>
<tr>
<td><code>CollisionEventComponent</code></td>
<td>Collision event callbacks</td>
<td>碰撞事件回调</td>
</tr>
</tbody>
</table>
<h3 id="systems--系统" class="tsd-anchor-link">Systems | 系统<a href="#systems--系统" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>System</th>
<th>Responsibility</th>
<th>职责</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PhysicsWorldSystem</code></td>
<td>Manages physics simulation and events</td>
<td>管理物理模拟和事件</td>
</tr>
<tr>
<td><code>PhysicsBodySystem</code></td>
<td>Creates and manages rigid bodies</td>
<td>创建和管理刚体</td>
</tr>
<tr>
<td><code>PhysicsColliderSystem</code></td>
<td>Creates and manages colliders</td>
<td>创建和管理碰撞器</td>
</tr>
<tr>
<td><code>PhysicsJointSystem</code></td>
<td>Creates and manages joints</td>
<td>创建和管理关节</td>
</tr>
</tbody>
</table>
<h2 id="📡-event-system--事件系统" class="tsd-anchor-link">📡 Event System | 事件系统<a href="#📡-event-system--事件系统" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="physics-events--物理事件" class="tsd-anchor-link">Physics Events | 物理事件<a href="#physics-events--物理事件" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">// Collision Events</span><br/><span class="hl-1">  </span><span class="hl-4">CollisionBeginEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">CollisionEndEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PreSolveEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PostSolveEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Sensor Events</span><br/><span class="hl-1">  </span><span class="hl-4">SensorBeginEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">SensorEndEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Body Events</span><br/><span class="hl-1">  </span><span class="hl-4">BodySleepEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">BodyWakeEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Joint Events</span><br/><span class="hl-1">  </span><span class="hl-4">JointBreakEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Step Events</span><br/><span class="hl-1">  </span><span class="hl-4">PhysicsStepBeginEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PhysicsStepEndEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Raycast Events</span><br/><span class="hl-1">  </span><span class="hl-4">RaycastHitEvent</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@esengine/nova-ecs-physics-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Subscribe to collision events</span><br/><span class="hl-4">world</span><span class="hl-1">.</span><span class="hl-4">eventBus</span><span class="hl-1">.</span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-4">CollisionBeginEvent</span><span class="hl-1">, (</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">bodyA</span><span class="hl-1"> = </span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-4">bodyA</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">bodyB</span><span class="hl-1"> = </span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-4">bodyB</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">impulse</span><span class="hl-1"> = </span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-0">getTotalImpulse</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Collision impulse: </span><span class="hl-6">${</span><span class="hl-4">impulse</span><span class="hl-9">.</span><span class="hl-0">toNumber</span><span class="hl-9">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Handle sensor triggers</span><br/><span class="hl-4">world</span><span class="hl-1">.</span><span class="hl-4">eventBus</span><span class="hl-1">.</span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-4">SensorBeginEvent</span><span class="hl-1">, (</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Something entered the sensor!&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Monitor joint breaking</span><br/><span class="hl-4">world</span><span class="hl-1">.</span><span class="hl-4">eventBus</span><span class="hl-1">.</span><span class="hl-0">subscribe</span><span class="hl-1">(</span><span class="hl-4">JointBreakEvent</span><span class="hl-1">, (</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">breakForce</span><span class="hl-1"> = </span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-4">breakForce</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Joint broke with force: </span><span class="hl-6">${</span><span class="hl-4">breakForce</span><span class="hl-9">.</span><span class="hl-0">toNumber</span><span class="hl-9">()</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="event-manager--事件管理器" class="tsd-anchor-link">Event Manager | 事件管理器<a href="#event-manager--事件管理器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-10">IPhysicsEventManager</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">// Collision events</span><br/><span class="hl-1">  </span><span class="hl-0">onCollisionBegin</span><span class="hl-1">(</span><span class="hl-4">listener</span><span class="hl-1">: </span><span class="hl-10">EventListener</span><span class="hl-1">&lt;</span><span class="hl-10">CollisionBeginEvent</span><span class="hl-1">&gt;): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">onCollisionEnd</span><span class="hl-1">(</span><span class="hl-4">listener</span><span class="hl-1">: </span><span class="hl-10">EventListener</span><span class="hl-1">&lt;</span><span class="hl-10">CollisionEndEvent</span><span class="hl-1">&gt;): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Sensor events</span><br/><span class="hl-1">  </span><span class="hl-0">onSensorBegin</span><span class="hl-1">(</span><span class="hl-4">listener</span><span class="hl-1">: </span><span class="hl-10">EventListener</span><span class="hl-1">&lt;</span><span class="hl-10">SensorBeginEvent</span><span class="hl-1">&gt;): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">onSensorEnd</span><span class="hl-1">(</span><span class="hl-4">listener</span><span class="hl-1">: </span><span class="hl-10">EventListener</span><span class="hl-1">&lt;</span><span class="hl-10">SensorEndEvent</span><span class="hl-1">&gt;): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Body events</span><br/><span class="hl-1">  </span><span class="hl-0">onBodySleep</span><span class="hl-1">(</span><span class="hl-4">listener</span><span class="hl-1">: </span><span class="hl-10">EventListener</span><span class="hl-1">&lt;</span><span class="hl-10">BodySleepEvent</span><span class="hl-1">&gt;): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">onBodyWake</span><span class="hl-1">(</span><span class="hl-4">listener</span><span class="hl-1">: </span><span class="hl-10">EventListener</span><span class="hl-1">&lt;</span><span class="hl-10">BodyWakeEvent</span><span class="hl-1">&gt;): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Utilities</span><br/><span class="hl-1">  </span><span class="hl-0">emit</span><span class="hl-1">(</span><span class="hl-4">event</span><span class="hl-1">: </span><span class="hl-10">PhysicsEvent</span><span class="hl-1">): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">clearAllListeners</span><span class="hl-1">(): </span><span class="hl-10">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">getListenerCount</span><span class="hl-1">(</span><span class="hl-4">eventType</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">): </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="🐛-debug--development--调试和开发-1" class="tsd-anchor-link">🐛 Debug &amp; Development | 调试和开发<a href="#🐛-debug--development--调试和开发-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="debug-renderer--调试渲染器" class="tsd-anchor-link">Debug Renderer | 调试渲染器<a href="#debug-renderer--调试渲染器" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">IPhysicsDebugRenderer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">BasePhysicsDebugRenderer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">DEFAULT_DEBUG_CONFIG</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">DEFAULT_DEBUG_COLORS</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@esengine/nova-ecs-physics-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Create custom debug renderer</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-10">CanvasDebugRenderer</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-10">BasePhysicsDebugRenderer</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-4">canvas</span><span class="hl-1">: </span><span class="hl-10">HTMLCanvasElement</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">private</span><span class="hl-1"> </span><span class="hl-4">ctx</span><span class="hl-1">: </span><span class="hl-10">CanvasRenderingContext2D</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-4">canvas</span><span class="hl-1">: </span><span class="hl-10">HTMLCanvasElement</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">canvas</span><span class="hl-1"> = </span><span class="hl-4">canvas</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">ctx</span><span class="hl-1"> = </span><span class="hl-4">canvas</span><span class="hl-1">.</span><span class="hl-0">getContext</span><span class="hl-1">(</span><span class="hl-2">&#39;2d&#39;</span><span class="hl-1">)!;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Implement abstract methods</span><br/><span class="hl-1">  </span><span class="hl-0">beginFrame</span><span class="hl-1">(): </span><span class="hl-10">void</span><span class="hl-1"> { </span><span class="hl-5">/* ... */</span><span class="hl-1"> }</span><br/><span class="hl-1">  </span><span class="hl-0">endFrame</span><span class="hl-1">(): </span><span class="hl-10">void</span><span class="hl-1"> { </span><span class="hl-5">/* ... */</span><span class="hl-1"> }</span><br/><span class="hl-1">  </span><span class="hl-0">clear</span><span class="hl-1">(): </span><span class="hl-10">void</span><span class="hl-1"> { </span><span class="hl-5">/* ... */</span><span class="hl-1"> }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">drawLine</span><span class="hl-1">(</span><span class="hl-4">start</span><span class="hl-1">: </span><span class="hl-10">FixedVector2</span><span class="hl-1">, </span><span class="hl-4">end</span><span class="hl-1">: </span><span class="hl-10">FixedVector2</span><span class="hl-1">, </span><span class="hl-4">color</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">): </span><span class="hl-10">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">ctx</span><span class="hl-1">.</span><span class="hl-4">strokeStyle</span><span class="hl-1"> = </span><span class="hl-4">color</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">ctx</span><span class="hl-1">.</span><span class="hl-0">beginPath</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">ctx</span><span class="hl-1">.</span><span class="hl-0">moveTo</span><span class="hl-1">(</span><span class="hl-4">start</span><span class="hl-1">.</span><span class="hl-4">x</span><span class="hl-1">.</span><span class="hl-0">toNumber</span><span class="hl-1">(), </span><span class="hl-4">start</span><span class="hl-1">.</span><span class="hl-4">y</span><span class="hl-1">.</span><span class="hl-0">toNumber</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">ctx</span><span class="hl-1">.</span><span class="hl-0">lineTo</span><span class="hl-1">(</span><span class="hl-4">end</span><span class="hl-1">.</span><span class="hl-4">x</span><span class="hl-1">.</span><span class="hl-0">toNumber</span><span class="hl-1">(), </span><span class="hl-4">end</span><span class="hl-1">.</span><span class="hl-4">y</span><span class="hl-1">.</span><span class="hl-0">toNumber</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">ctx</span><span class="hl-1">.</span><span class="hl-0">stroke</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// ... other drawing methods</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Setup debug renderer</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">canvas</span><span class="hl-1"> = </span><span class="hl-4">document</span><span class="hl-1">.</span><span class="hl-0">getElementById</span><span class="hl-1">(</span><span class="hl-2">&#39;debug-canvas&#39;</span><span class="hl-1">) </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-10">HTMLCanvasElement</span><span class="hl-1">;</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">debugRenderer</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">CanvasDebugRenderer</span><span class="hl-1">(</span><span class="hl-4">canvas</span><span class="hl-1">);</span><br/><br/><span class="hl-4">debugRenderer</span><span class="hl-1">.</span><span class="hl-0">setEnabled</span><span class="hl-1">(</span><span class="hl-6">true</span><span class="hl-1">);</span><br/><span class="hl-4">debugRenderer</span><span class="hl-1">.</span><span class="hl-0">setConfig</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">drawBodies:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">drawColliders:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">drawJoints:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">drawContactPoints:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">drawStatistics:</span><span class="hl-1"> </span><span class="hl-6">true</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Custom colors</span><br/><span class="hl-4">debugRenderer</span><span class="hl-1">.</span><span class="hl-0">setColors</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">dynamicBody:</span><span class="hl-1"> </span><span class="hl-2">&#39;#00FF00&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">staticBody:</span><span class="hl-1"> </span><span class="hl-2">&#39;#FFFFFF&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">sensor:</span><span class="hl-1"> </span><span class="hl-2">&#39;#FF00FF&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">contactPoint:</span><span class="hl-1"> </span><span class="hl-2">&#39;#FF0000&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="performance-monitoring--性能监控" class="tsd-anchor-link">Performance Monitoring | 性能监控<a href="#performance-monitoring--性能监控" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-10">PhysicsDebugStats</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">bodyCount</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">activeBodies</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">sleepingBodies</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">colliderCount</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">jointCount</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">contactCount</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">stepTime</span><span class="hl-1">: </span><span class="hl-10">Fixed</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">fps</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">memoryUsage</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Display performance stats</span><br/><span class="hl-4">debugRenderer</span><span class="hl-1">.</span><span class="hl-0">drawStatistics</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">bodyCount:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">activeBodies:</span><span class="hl-1"> </span><span class="hl-8">75</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">sleepingBodies:</span><span class="hl-1"> </span><span class="hl-8">25</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">colliderCount:</span><span class="hl-1"> </span><span class="hl-8">120</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">jointCount:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">contactCount:</span><span class="hl-1"> </span><span class="hl-8">45</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">stepTime:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">2.5</span><span class="hl-1">), </span><span class="hl-5">// milliseconds</span><br/><span class="hl-1">  </span><span class="hl-4">fps:</span><span class="hl-1"> </span><span class="hl-8">60</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">memoryUsage:</span><span class="hl-1"> </span><span class="hl-8">1024</span><span class="hl-1"> * </span><span class="hl-8">1024</span><span class="hl-1"> </span><span class="hl-5">// bytes</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="🔧-advanced-features--高级功能" class="tsd-anchor-link">🔧 Advanced Features | 高级功能<a href="#🔧-advanced-features--高级功能" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="joint-system--关节系统" class="tsd-anchor-link">Joint System | 关节系统<a href="#joint-system--关节系统" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">// Joint Types</span><br/><span class="hl-1">  </span><span class="hl-4">DistanceJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">RevoluteJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PrismaticJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">WeldJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">RopeJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">MouseJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PulleyJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">GearJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">MotorJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">WheelJointConfig</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Joint Features</span><br/><span class="hl-1">  </span><span class="hl-4">JointLimits</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">JointMotor</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">JointBreakSettings</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@esengine/nova-ecs-physics-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Create a revolute joint (hinge)</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">revoluteJoint</span><span class="hl-1">: </span><span class="hl-10">RevoluteJointConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">JointType</span><span class="hl-1">.</span><span class="hl-4">Revolute</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">bodyA:</span><span class="hl-1"> </span><span class="hl-4">bodyA</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">bodyB:</span><span class="hl-1"> </span><span class="hl-4">bodyB</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">localAnchorA:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">FixedVector2</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">localAnchorB:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">FixedVector2</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">enableLimit:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">lowerAngle:</span><span class="hl-1"> </span><span class="hl-4">Fixed</span><span class="hl-1">.</span><span class="hl-7">PI</span><span class="hl-1">.</span><span class="hl-0">negate</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-4">upperAngle:</span><span class="hl-1"> </span><span class="hl-4">Fixed</span><span class="hl-1">.</span><span class="hl-7">PI</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">enableMotor:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">motorSpeed:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">maxMotorTorque:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">100</span><span class="hl-1">)</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-5">// Create a distance joint with spring properties</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">distanceJoint</span><span class="hl-1">: </span><span class="hl-10">DistanceJointConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">JointType</span><span class="hl-1">.</span><span class="hl-4">Distance</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">bodyA:</span><span class="hl-1"> </span><span class="hl-4">bodyA</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">bodyB:</span><span class="hl-1"> </span><span class="hl-4">bodyB</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">localAnchorA:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">FixedVector2</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">localAnchorB:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">FixedVector2</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">length:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">stiffness:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">1000</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-4">damping:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">50</span><span class="hl-1">)</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<h3 id="collision-filtering--碰撞过滤" class="tsd-anchor-link">Collision Filtering | 碰撞过滤<a href="#collision-filtering--碰撞过滤" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">// Define collision categories</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">COLLISION_CATEGORIES</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">PLAYER:</span><span class="hl-1"> </span><span class="hl-8">0x0001</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ENEMY:</span><span class="hl-1"> </span><span class="hl-8">0x0002</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">GROUND:</span><span class="hl-1"> </span><span class="hl-8">0x0004</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PICKUP:</span><span class="hl-1"> </span><span class="hl-8">0x0008</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PROJECTILE:</span><span class="hl-1"> </span><span class="hl-8">0x0010</span><br/><span class="hl-1">} </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Create collision filter</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">playerFilter</span><span class="hl-1">: </span><span class="hl-10">CollisionFilter</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">categoryBits:</span><span class="hl-1"> </span><span class="hl-7">COLLISION_CATEGORIES</span><span class="hl-1">.</span><span class="hl-7">PLAYER</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">maskBits:</span><span class="hl-1"> </span><span class="hl-7">COLLISION_CATEGORIES</span><span class="hl-1">.</span><span class="hl-7">GROUND</span><span class="hl-1"> | </span><span class="hl-7">COLLISION_CATEGORIES</span><span class="hl-1">.</span><span class="hl-7">ENEMY</span><span class="hl-1"> | </span><span class="hl-7">COLLISION_CATEGORIES</span><span class="hl-1">.</span><span class="hl-7">PICKUP</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">groupIndex:</span><span class="hl-1"> </span><span class="hl-8">0</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-5">// Apply to collider</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">collider</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">ColliderComponent</span><span class="hl-1">(</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">ColliderType</span><span class="hl-1">.</span><span class="hl-4">Circle</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">radius:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">0.5</span><span class="hl-1">)</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">friction:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">0.7</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-4">restitution:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">0.0</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-4">density:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">Fixed</span><span class="hl-1">(</span><span class="hl-8">1.0</span><span class="hl-1">)</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">playerFilter</span><span class="hl-1">, </span><span class="hl-5">// collision filter</span><br/><span class="hl-1">  </span><span class="hl-6">false</span><span class="hl-1">         </span><span class="hl-5">// is sensor</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="🎮-supported-physics-engines--支持的物理引擎" class="tsd-anchor-link">🎮 Supported Physics Engines | 支持的物理引擎<a href="#🎮-supported-physics-engines--支持的物理引擎" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="✅-available-now--现已可用" class="tsd-anchor-link">✅ Available Now | 现已可用<a href="#✅-available-now--现已可用" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="box2djs" class="tsd-anchor-link">Box2D.js<a href="#box2djs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Package</strong>: <code>@esengine/nova-ecs-physics-box2d</code></li>
<li><strong>Version</strong>: 2D physics engine</li>
<li><strong>Best for</strong>: Platformers, puzzle games, 2D simulations</li>
<li><strong>Features</strong>: Mature, stable, deterministic, extensive joint support</li>
<li><strong>最适合</strong>: 平台游戏、益智游戏、2D仿真</li>
<li><strong>特性</strong>: 成熟、稳定、确定性、广泛的关节支持</li>
</ul>
<h3 id="🚧-coming-soon--即将推出" class="tsd-anchor-link">🚧 Coming Soon | 即将推出<a href="#🚧-coming-soon--即将推出" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="rapier" class="tsd-anchor-link">Rapier<a href="#rapier" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Package</strong>: <code>@esengine/nova-ecs-physics-rapier</code></li>
<li><strong>Version</strong>: 2D/3D physics engine</li>
<li><strong>Best for</strong>: High-performance games, 3D simulations</li>
<li><strong>Features</strong>: Rust-powered, cross-platform, modern architecture</li>
<li><strong>最适合</strong>: 高性能游戏、3D仿真</li>
<li><strong>特性</strong>: Rust驱动、跨平台、现代架构</li>
</ul>
<h4 id="cannonjs" class="tsd-anchor-link">Cannon.js<a href="#cannonjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><strong>Package</strong>: <code>@esengine/nova-ecs-physics-cannon</code></li>
<li><strong>Version</strong>: 3D physics engine</li>
<li><strong>Best for</strong>: 3D web games, vehicle simulations</li>
<li><strong>Features</strong>: Pure JavaScript, lightweight, 3D focused</li>
<li><strong>最适合</strong>: 3D网页游戏、车辆仿真</li>
<li><strong>特性</strong>: 纯JavaScript、轻量级、专注3D</li>
</ul>
<h2 id="🔧-creating-custom-physics-engines--创建自定义物理引擎" class="tsd-anchor-link">🔧 Creating Custom Physics Engines | 创建自定义物理引擎<a href="#🔧-creating-custom-physics-engines--创建自定义物理引擎" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">BasePhysicsPlugin</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">IPhysicsEngine</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">IPhysicsEngineFactory</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">PhysicsLogger</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@esengine/nova-ecs-physics-core&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Implement physics engine</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-10">MyPhysicsEngine</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-10">IPhysicsEngine</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-4">name</span><span class="hl-1"> = </span><span class="hl-2">&#39;MyEngine&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">readonly</span><span class="hl-1"> </span><span class="hl-4">version</span><span class="hl-1"> = </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-0">initialize</span><span class="hl-1">(): </span><span class="hl-10">Promise</span><span class="hl-1">&lt;</span><span class="hl-10">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-4">PhysicsLogger</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Initializing MyPhysicsEngine...&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">// Initialize your physics engine</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">createWorld</span><span class="hl-1">(</span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-10">PhysicsWorldConfig</span><span class="hl-1">): </span><span class="hl-10">IPhysicsWorld</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// Create and return physics world implementation</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyPhysicsWorld</span><span class="hl-1">(</span><span class="hl-4">config</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">createRigidBody</span><span class="hl-1">(</span><span class="hl-4">world</span><span class="hl-1">: </span><span class="hl-10">IPhysicsWorld</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-10">RigidBodyConfig</span><span class="hl-1">): </span><span class="hl-10">IRigidBody</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// Create and return rigid body implementation</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyRigidBody</span><span class="hl-1">(</span><span class="hl-4">config</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">createCollider</span><span class="hl-1">(</span><span class="hl-4">body</span><span class="hl-1">: </span><span class="hl-10">IRigidBody</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-10">ColliderConfig</span><span class="hl-1">): </span><span class="hl-10">ICollider</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// Create and return collider implementation</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyCollider</span><span class="hl-1">(</span><span class="hl-4">body</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">createJoint</span><span class="hl-1">(</span><span class="hl-4">world</span><span class="hl-1">: </span><span class="hl-10">IPhysicsWorld</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">: </span><span class="hl-10">BaseJointConfig</span><span class="hl-1">): </span><span class="hl-10">IJoint</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// Create and return joint implementation</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyJoint</span><span class="hl-1">(</span><span class="hl-4">world</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">destroy</span><span class="hl-1">(): </span><span class="hl-10">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">PhysicsLogger</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Destroying MyPhysicsEngine...&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">// Cleanup resources</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Create engine factory</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-10">MyPhysicsEngineFactory</span><span class="hl-1"> </span><span class="hl-6">implements</span><span class="hl-1"> </span><span class="hl-10">IPhysicsEngineFactory</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">createEngine</span><span class="hl-1">(): </span><span class="hl-10">IPhysicsEngine</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyPhysicsEngine</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">getSupportedFeatures</span><span class="hl-1">(): </span><span class="hl-10">string</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> [</span><span class="hl-2">&#39;2d&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;3d&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;rigid-bodies&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;colliders&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;joints&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;sensors&#39;</span><span class="hl-1">];</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">isFeatureSupported</span><span class="hl-1">(</span><span class="hl-4">feature</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">): </span><span class="hl-10">boolean</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-0">getSupportedFeatures</span><span class="hl-1">().</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-4">feature</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Create plugin</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-10">MyPhysicsPlugin</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-10">BasePhysicsPlugin</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">(</span><span class="hl-4">config</span><span class="hl-1">?: </span><span class="hl-10">PhysicsPluginConfig</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">super</span><span class="hl-1">(</span><span class="hl-2">&#39;MyPhysics&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">, </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyPhysicsEngineFactory</span><span class="hl-1">(), </span><span class="hl-4">config</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Usage</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">world</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">World</span><span class="hl-1">();</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">plugin</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyPhysicsPlugin</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">worldConfig:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">gravity:</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">FixedVector2</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, -</span><span class="hl-8">9.81</span><span class="hl-1">)</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">enableDebugRender:</span><span class="hl-1"> </span><span class="hl-6">true</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">world</span><span class="hl-1">.</span><span class="hl-4">plugins</span><span class="hl-1">.</span><span class="hl-0">install</span><span class="hl-1">(</span><span class="hl-4">plugin</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="🛠️-development--开发" class="tsd-anchor-link">🛠️ Development | 开发<a href="#🛠️-development--开发" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="prerequisites--前置要求" class="tsd-anchor-link">Prerequisites | 前置要求<a href="#prerequisites--前置要求" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Node.js &gt;= 16</li>
<li>npm &gt;= 7</li>
</ul>
<h3 id="setup--设置" class="tsd-anchor-link">Setup | 设置<a href="#setup--设置" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/esengine/nova-ecs-physics-core.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">nova-ecs-physics-core</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span>
</code><button type="button">Copy</button></pre>

<h3 id="scripts--脚本" class="tsd-anchor-link">Scripts | 脚本<a href="#scripts--脚本" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-5"># Build the library | 构建库</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-5"># Run tests with coverage | 运行测试并生成覆盖率报告</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:coverage</span><br/><br/><span class="hl-5"># Run linter (TypeScript + ESLint) | 运行代码检查</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">lint</span><br/><br/><span class="hl-5"># Fix linting issues | 修复代码问题</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">lint:fix</span><br/><br/><span class="hl-5"># Format code | 格式化代码</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">format</span><br/><br/><span class="hl-5"># Generate API documentation | 生成API文档</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">docs</span><br/><br/><span class="hl-5"># Development mode with watch | 开发模式（监听文件变化）</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">dev</span>
</code><button type="button">Copy</button></pre>

<h2 id="🤝-contributing--贡献" class="tsd-anchor-link">🤝 Contributing | 贡献<a href="#🤝-contributing--贡献" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>We welcome contributions! Please see <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> for guidelines.
欢迎贡献！请查看 <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> 获取指南。</p>
<h3 id="development-workflow--开发流程" class="tsd-anchor-link">Development Workflow | 开发流程<a href="#development-workflow--开发流程" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>Fork the repository | 分叉仓库</li>
<li>Create a feature branch | 创建功能分支</li>
<li>Make your changes with tests | 进行更改并添加测试</li>
<li>Run <code>npm run lint</code> to check code quality | 运行代码质量检查</li>
<li>Run <code>npm test</code> to ensure tests pass | 确保测试通过</li>
<li>Submit a pull request | 提交拉取请求</li>
</ol>
<h2 id="📖-related-projects--相关项目" class="tsd-anchor-link">📖 Related Projects | 相关项目<a href="#📖-related-projects--相关项目" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/esengine/NovaECS"><strong>NovaECS</strong></a> - Next-generation ECS framework | 下一代ECS框架</li>
<li><a href="https://github.com/esengine/nova-ecs-math"><strong>nova-ecs-math</strong></a> - Fixed-point mathematics library | 定点数学库</li>
<li><a href="https://github.com/esengine/nova-ecs-physics-box2d"><strong>nova-ecs-physics-box2d</strong></a> - Box2D implementation | Box2D实现</li>
</ul>
<h2 id="📄-license--许可证" class="tsd-anchor-link">📄 License | 许可证<a href="#📄-license--许可证" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT License - see <a href="LICENSE">LICENSE</a> for details.</p>
<h2 id="🙏-acknowledgments--致谢" class="tsd-anchor-link">🙏 Acknowledgments | 致谢<a href="#🙏-acknowledgments--致谢" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Box2D physics engine team for the excellent reference implementation</li>
<li>NovaECS community for feedback and contributions</li>
<li>All contributors who helped shape this project</li>
</ul>
<hr>
<p><strong>Made with ❤️ by the NovaECS team</strong><br>
<strong>由 NovaECS 团队用 ❤️ 制作</strong></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#esenginenova-ecs-physics-core"><span>@esengine/nova-<wbr/>ecs-<wbr/>physics-<wbr/>core</span></a><ul><li><a href="#✨-features--特性"><span>✨ <wbr/>Features | 特性</span></a></li><li><ul><li><a href="#🏗️-core-architecture--核心架构"><span>🏗️ <wbr/>Core <wbr/>Architecture | 核心架构</span></a></li><li><a href="#🧮-deterministic-physics--确定性物理"><span>🧮 <wbr/>Deterministic <wbr/>Physics | 确定性物理</span></a></li><li><a href="#📡-advanced-event-system--高级事件系统"><span>📡 <wbr/>Advanced <wbr/>Event <wbr/>System | 高级事件系统</span></a></li><li><a href="#🐛-debug--development--调试和开发"><span>🐛 <wbr/>Debug &amp; <wbr/>Development | 调试和开发</span></a></li><li><a href="#🧩-extensibility--可扩展性"><span>🧩 <wbr/>Extensibility | 可扩展性</span></a></li></ul></li><li><a href="#📦-installation--安装"><span>📦 <wbr/>Installation | 安装</span></a></li><li><a href="#🚀-quick-start--快速开始"><span>🚀 <wbr/>Quick <wbr/>Start | 快速开始</span></a></li><li><a href="#🏗️-architecture--架构"><span>🏗️ <wbr/>Architecture | 架构</span></a></li><li><ul><li><a href="#core-interfaces--核心接口"><span>Core <wbr/>Interfaces | 核心接口</span></a></li><li><a href="#components--组件"><span>Components | 组件</span></a></li><li><a href="#systems--系统"><span>Systems | 系统</span></a></li></ul></li><li><a href="#📡-event-system--事件系统"><span>📡 <wbr/>Event <wbr/>System | 事件系统</span></a></li><li><ul><li><a href="#physics-events--物理事件"><span>Physics <wbr/>Events | 物理事件</span></a></li><li><a href="#event-manager--事件管理器"><span>Event <wbr/>Manager | 事件管理器</span></a></li></ul></li><li><a href="#🐛-debug--development--调试和开发-1"><span>🐛 <wbr/>Debug &amp; <wbr/>Development | 调试和开发</span></a></li><li><ul><li><a href="#debug-renderer--调试渲染器"><span>Debug <wbr/>Renderer | 调试渲染器</span></a></li><li><a href="#performance-monitoring--性能监控"><span>Performance <wbr/>Monitoring | 性能监控</span></a></li></ul></li><li><a href="#🔧-advanced-features--高级功能"><span>🔧 <wbr/>Advanced <wbr/>Features | 高级功能</span></a></li><li><ul><li><a href="#joint-system--关节系统"><span>Joint <wbr/>System | 关节系统</span></a></li><li><a href="#collision-filtering--碰撞过滤"><span>Collision <wbr/>Filtering | 碰撞过滤</span></a></li></ul></li><li><a href="#🎮-supported-physics-engines--支持的物理引擎"><span>🎮 <wbr/>Supported <wbr/>Physics <wbr/>Engines | 支持的物理引擎</span></a></li><li><ul><li><a href="#✅-available-now--现已可用"><span>✅ <wbr/>Available <wbr/>Now | 现已可用</span></a></li><li><ul><li><a href="#box2djs"><span>Box2<wbr/>D.js</span></a></li></ul></li><li><a href="#🚧-coming-soon--即将推出"><span>🚧 <wbr/>Coming <wbr/>Soon | 即将推出</span></a></li><li><ul><li><a href="#rapier"><span>Rapier</span></a></li><li><a href="#cannonjs"><span>Cannon.js</span></a></li></ul></li></ul></li><li><a href="#🔧-creating-custom-physics-engines--创建自定义物理引擎"><span>🔧 <wbr/>Creating <wbr/>Custom <wbr/>Physics <wbr/>Engines | 创建自定义物理引擎</span></a></li><li><a href="#🛠️-development--开发"><span>🛠️ <wbr/>Development | 开发</span></a></li><li><ul><li><a href="#prerequisites--前置要求"><span>Prerequisites | 前置要求</span></a></li><li><a href="#setup--设置"><span>Setup | 设置</span></a></li><li><a href="#scripts--脚本"><span>Scripts | 脚本</span></a></li></ul></li><li><a href="#🤝-contributing--贡献"><span>🤝 <wbr/>Contributing | 贡献</span></a></li><li><ul><li><a href="#development-workflow--开发流程"><span>Development <wbr/>Workflow | 开发流程</span></a></li></ul></li><li><a href="#📖-related-projects--相关项目"><span>📖 <wbr/>Related <wbr/>Projects | 相关项目</span></a></li><li><a href="#📄-license--许可证"><span>📄 <wbr/>License | 许可证</span></a></li><li><a href="#🙏-acknowledgments--致谢"><span>🙏 <wbr/>Acknowledgments | 致谢</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@esengine/nova-ecs-physics-core - v1.0.3</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
